(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){e.exports=a(258)},134:function(e,t,a){},136:function(e,t,a){},174:function(e,t,a){},176:function(e,t,a){},204:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(23),r=a.n(l),i=(a(134),a(9)),o=a(10),c=a(13),u=a(11),m=a(12),d=a(3),p=a(270),_=(a(135),a(136),"https://autodetect.ml/file_handler"),h="https://nirbhay.me/VAMRR-Vehicle-Detection/#",E="https://imgnooz.com/sites/default/files/wallpaper/abstract/55480/gradient-minimal-stock-wallpapers-55480-9790200.png",b="https://autodetect.ml/p.php?p=",g=a(60),f=(a(138),a(109)),v=a.n(f),k=a(110),x=a.n(k),y=a(111),j=a.n(y),O=a(112),w=a.n(O);a(139);Object(g.registerPlugin)(v.a,x.a,j.a,w.a);var N,S,I,C=[],M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onLoad=function(e){if(e.includes("Success")){var t=e.split("_");C.push(t[1]),N.state.enableNext()}},a.state={files:[""],_session_:e.session,enableNext:e.enableNext},N=Object(d.a)(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInit",value:function(){console.log("Pothole Detection App")}},{key:"render",value:function(e){var t=this,a=this.state._session_;return s.a.createElement("div",{className:"App"},s.a.createElement(g.FilePond,{className:"filepond-bg",ref:function(e){return t.pond=e},allowFileSizeValidation:!0,maxFileSize:"2MB",acceptedFileTypes:["image/png","image/jpg","image/jpeg","video/mp4","video/avi"],allowMultiple:!0,labelFileProcessingComplete:"Upload Complete",maxFiles:9,allowRevert:!1,labelIdle:'Drag & Drop your files or <span class="filepond--label-action">Browse</span><br/> <i>Acceptable file types: .png, .jpg, .jpeg, .mp4, .avi</i>',server:{url:_+"/file_upload.php?session_folder_name="+a,process:{onload:this.onLoad}},oninit:function(){return t.handleInit()},onupdatefiles:function(e){t.setState({files:e.map(function(e){return e.file})})}},this.state.files.map(function(e){return s.a.createElement(g.File,{key:e,src:e,origin:"local"})})))}}]),t}(n.Component),A=a(30),D=a.n(A),T=a(271),F=(a(16),a(126)),R=function(e){return window.innerWidth>=992?s.a.createElement("div",null,s.a.createElement(T.a,{color:"primary"},"Desktop users press enter to start, and arrow keys to play!"),s.a.createElement("br",null),s.a.createElement(F.a,{style:{width:"50px",height:"100px"}})):s.a.createElement("div",null)},V=a(42),P=function(e){return s.a.createElement(V.Terminal,null,s.a.createElement("div",null,s.a.createElement("div",{style:{display:e.loading_state}},s.a.createElement("center",null,s.a.createElement("img",{src:"https://loading.io/spinners/dual-ring/lg.dual-ring-loader.gif",height:"50px",width:"50px",alt:"spinner"}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(R,null))),s.a.createElement("pre",{style:{textAlign:"left",marginLeft:"20px",color:"#fff"}},e.response),s.a.createElement(T.a,{style:{display:e.alert_display},color:"primary"},e.alert_label),s.a.createElement("a",{href:e.output_text_file_link,target:"_blank",rel:"noopener noreferrer"},e.output_text_file_label)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))},H="https://autodetect.ml/auto_model/vehicle_model/process.php?session_folder_name=",L=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={_session_:H+e.session,_session:e.session,response:"",output_generated_label:"",output_text_file_link:"",output_text_file_label:"",loading_gif_state:"inline",enableNext:e.enableNext,media_processed_label:"",alert_display:"none"};var n=Object(d.a)(Object(d.a)(a));return D.a.get(a.state._session_).then(function(e){n.setState({loading_state:"none",response:"\n"+e.data+"\n",output_generated_label:"Output Text File Generated\n",output_text_file_label:"Output Text File",output_text_file_link:_+"/uploads/"+n.state._session+"/out/"+n.state._session+".txt",media_processed_label:"Media File(s) have been Processed!",alert_display:"block"}),n.state.enableNext()}),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(T.a,{style:{display:this.state.alert_display},color:"secondary"},this.state.media_processed_label),s.a.createElement(P,{loading_state:this.state.loading_state,response:this.state.response,alert_display:this.state.alert_display,alert_label:this.state.output_generated_label,output_text_file_link:this.state.output_text_file_link,output_text_file_label:this.state.output_text_file_label}))}}]),t}(n.Component),B=(a(174),a(264)),J=a(265),G=a(266),W=a(267),z=a(116),U=a(260),X=a(261),Y=a(262),$=a(263),q=a(115),K=a.n(q),Q=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getInnerJSX",value:function(){return"image"===this.props.data.type?(console.log(this.props.data.type),s.a.createElement("center",null,s.a.createElement("div",{style:{border:"2px solid #666666",backgroundImage:"url("+E+")"},width:365,height:365},s.a.createElement(K.a,{src:this.props.data.src,width:360,height:360,alt:this.props.data.altText})))):"video"===this.props.data.type?s.a.createElement("center",null,s.a.createElement("div",{style:{border:"2px solid #666666",backgroundImage:"url("+E+")"},width:365,height:365},s.a.createElement("video",{controls:!0,loop:!0,autoplay:"true",muted:"true"},s.a.createElement("source",{src:this.props.data.src,type:"video/mp4"}),"__Your browser does not support the video tag__."))):void 0}},{key:"render",value:function(){return s.a.createElement("div",null,this.getInnerJSX())}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activeIndex:0},a.next=a.next.bind(Object(d.a)(Object(d.a)(a))),a.previous=a.previous.bind(Object(d.a)(Object(d.a)(a))),a.goToIndex=a.goToIndex.bind(Object(d.a)(Object(d.a)(a))),a.onExiting=a.onExiting.bind(Object(d.a)(Object(d.a)(a))),a.onExited=a.onExited.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===this.props.mediaData.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.mediaData.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,a=this.props.mediaData.map(function(t){return s.a.createElement(z.a,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},s.a.createElement(Q,{data:t}),s.a.createElement(U.a,{captionText:t.caption,captionHeader:""}))});return s.a.createElement(X.a,{activeIndex:t,next:this.next,previous:this.previous,interval:!1},s.a.createElement(Y.a,{items:this.props.mediaData,activeIndex:t,onClickHandler:this.goToIndex}),a,s.a.createElement($.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),s.a.createElement($.a,{direction:"next",directionText:"Next",onClickHandler:this.next}))}}]),t}(n.Component),ee=function(e){return s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("center",null,s.a.createElement("a",{href:e.add_more_link,style:{color:"#fff"},className:"btn btn-primary",role:"button"},e.button_text),s.a.createElement("br",null))))},te=(a(176),function(e){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("p",null,s.a.createElement("a",{target:"_blank",href:e.output_text_link,download:!0,rel:"noopener noreferrer"},s.a.createElement(B.a,{color:"info"},"View Raw .txt Output")))),s.a.createElement(V.Terminal,null,s.a.createElement(T.a,{color:"primary"},".txt Output"),s.a.createElement("pre",{className:"pre-style"},e.output_text_data)),s.a.createElement("br",null))}),ae=a(117),ne=a.n(ae),se=function(e){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("p",null,s.a.createElement("a",{target:"_blank",href:e.generate_json_link,download:!0,rel:"noopener noreferrer"},s.a.createElement(B.a,{color:"warning"},"View Raw .json Output")))),s.a.createElement(V.Terminal,null,s.a.createElement(T.a,{color:"primary"},".json Output"),s.a.createElement(ne.a,{src:e.output_json_data,theme:"monokai",style:{textAlign:"left"}})))},le=a(268),re=a(25),ie=(a(204),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(J.a,null,s.a.createElement(G.a,null,s.a.createElement(W.a,{sm:"2"}),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.Linkedin,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.Twitter,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.Whatsapp,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.Facebook,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.Reddit,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.Google,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.Mail,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{className:"social_button"},s.a.createElement(re.HackerNews,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(W.a,{sm:"2"})))}}]),t}(s.a.Component)),oe=function(e){return s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("p",null,s.a.createElement(T.a,{color:"primary"},s.a.createElement("h4",null,"Session Number",s.a.createElement("br",null),s.a.createElement(le.a,{color:"secondary"},e.session_no)),s.a.createElement("br",null),s.a.createElement(ie,{share_link:e.link,message:e.message})))))},ce=function(e){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(T.a,{color:e.color},s.a.createElement("h4",null,e.alert_message,s.a.createElement("br",null)," ",s.a.createElement(le.a,{color:"secondary"},e._session)))),s.a.createElement("br",null))},ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={_session:e.session,get_json_link:_+"/getLinks.php?session_folder_name=",json_data_media:[],output_text_file_link:_+"/uploads/"+e.session+"/out/"+e.session+".txt",generate_json_link:_+"/generateJSON.php?session_folder_name="+e.session,generate_text_link:_+"/getTextOutput.php?session_folder_name="+e.session,json_output_data:[],text_output_data:[],share_link:b+e.session,from_shared_link:!1,add_more_link:h+"/"+e.session},a.state._session||(a.state={_session:a.props.match.params.id,get_json_link:_+"/getLinks.php?session_folder_name=",json_data_media:[],output_text_file_link:_+"/uploads/"+a.props.match.params.id+"/out/"+a.props.match.params.id+".txt",generate_json_link:_+"/generateJSON.php?session_folder_name="+a.props.match.params.id,generate_text_link:_+"/getTextOutput.php?session_folder_name="+a.props.match.params.id,json_output_data:[],text_output_data:[],share_link:b+a.props.match.params.id,from_shared_link:!0,add_more_link:h+"/"+a.props.match.params.id}),S=Object(d.a)(Object(d.a)(a)),D.a.get(a.state.get_json_link+a.state._session).then(function(e){S.setState({json_data_media:e.data})}),D.a.get(a.state.generate_text_link).then(function(e){S.setState({text_output_data:e.data})}),D.a.get(a.state.generate_json_link).then(function(e){S.setState({json_output_data:e.data})}),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"addMore",value:function(){console.log(this.add_more_link),window.location.assign(this.state.add_more_link),window.location.reload()}},{key:"checkForContinueSessionButtons",value:function(){var e=this;if(this.state.json_data_media&&this.state.json_data_media.length>0&&this.state.from_shared_link)return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement(ee,{button_text:"Start Afresh",add_more_link:"https://nirbhay.me/VAMRR-Vehicle-Detection"}),s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement(B.a,{color:"primary",onClick:function(){return e.addMore()}},"Add some other image(s)/video(s)"))))}},{key:"getSessionNotExistMessage",value:function(){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement(J.a,null,s.a.createElement("center",null,s.a.createElement(ce,{session_no:this.state._session,color:"danger",alert_message:"Session Number Does Not Exist!!"}),s.a.createElement(ee,{button_text:"Start Afresh",add_more_link:"https://nirbhay.me/VAMRR-Vehicle-Detection"}))))}},{key:"checkAndGetOutput",value:function(){return this.state.json_data_media&&this.state.json_data_media.length>0?s.a.createElement("div",null,s.a.createElement(J.a,null,s.a.createElement(oe,{session_no:this.state._session,link:this.state.share_link,message:"Hey, view my test media for potholes detected! You can add your own to it too! Happy detecting and spreading the word!!"})),s.a.createElement(J.a,null,s.a.createElement(Z,{mediaData:this.state.json_data_media})),s.a.createElement(J.a,null,s.a.createElement(G.a,null,s.a.createElement(W.a,{xs:"12",sm:"6"},s.a.createElement(te,{output_text_link:this.state.output_text_file_link,output_text_data:this.state.text_output_data})),s.a.createElement(W.a,{sm:"6"},s.a.createElement(se,{generate_json_link:this.state.generate_json_link,output_json_data:this.state.json_output_data}))))):s.a.createElement("div",null,this.getSessionNotExistMessage())}},{key:"render",value:function(){return s.a.createElement("div",null,this.checkAndGetOutput(),this.checkForContinueSessionButtons(),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(n.Component),me=p.a.Step,de=[],pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={current:0,disabled:!0,session_folder_name:a.props.route_session_id,add_more_link:h+"/"+a.props.route_session_id},I=Object(d.a)(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"enableNext",value:function(){I.setState({disabled:!1})}},{key:"next",value:function(){var e=this.state.current+1;this.setState({current:e}),I.setState({disabled:!0})}},{key:"afresh",value:function(){window.location.reload()}},{key:"addMore",value:function(){console.log(this.add_more_link),window.location.assign(this.state.add_more_link),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.state.current;return de=[{title:"Upload Media File(s)",content:s.a.createElement(M,{session:this.state.session_folder_name,enableNext:I.enableNext})},{title:"Process File(s)",content:s.a.createElement(L,{session:this.state.session_folder_name,enableNext:I.enableNext})},{title:"Get Result(s)",content:s.a.createElement(ue,{session:this.state.session_folder_name})}],s.a.createElement("div",{className:"steps-main"},s.a.createElement(p.a,{current:t},de.map(function(e){return s.a.createElement(me,{key:e.title,title:e.title})})),s.a.createElement("div",{className:"steps-content"},de[t].content),s.a.createElement("div",{className:"steps-action"},t<de.length-1&&s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement(B.a,{color:"primary",style:{width:"60%"},disabled:this.state.disabled,onClick:function(){return e.next()}},"Next"))),t===de.length-1&&s.a.createElement("p",null,s.a.createElement("center",null,s.a.createElement(B.a,{color:"primary",onClick:function(){return e.afresh()}},"Start Afresh"))),t===de.length-1&&s.a.createElement("p",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement(B.a,{color:"primary",onClick:function(){return e.addMore()}},"Add some other image(s)/video(s)")))))}}]),t}(s.a.Component),_e=function(e){return s.a.createElement("center",null,s.a.createElement(ce,{color:"danger",alert_message:"404: Pothole Not Found. Lost your way or just here to play the game ?",_session:e.route_session_id}),s.a.createElement(R,null),s.a.createElement("br",null),s.a.createElement("br",null))},he=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id?D.a.get(_+"/validateSession.php?session_folder_name="+this.props.match.params.id).then(function(t){"Valid"===t.data?e.setState({route_session_id:e.props.match.params.id,access_granted:!0,existing_session:!0}):e.setState({route_session_id:"Invalid Access Entries",invalid_access:!0})}):this.setState({route_session_id:Math.round(1e3*Math.random())*Date.now(),access_granted:!0,new_session:!0})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},this.state&&this.state.route_session_id&&this.state.access_granted&&this.state.new_session&&s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement(ce,{color:"primary",alert_message:"New Session Created",_session:this.state.route_session_id})),s.a.createElement(pe,{route_session_id:this.state.route_session_id})),this.state&&this.state.route_session_id&&this.state.access_granted&&this.state.existing_session&&s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement(ce,{color:"secondary",alert_message:"Existing Session",_session:this.state.route_session_id})),s.a.createElement(pe,{route_session_id:this.state.route_session_id})),this.state&&this.state.route_session_id&&this.state.invalid_access&&s.a.createElement(_e,{_session:this.state.route_session_id}))}}]),t}(n.Component),Ee=a(124),be=a(36);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=a(269),fe=function(e){return s.a.createElement("div",{className:"container"},s.a.createElement(ge.a,{className:"jumbo-bg"},s.a.createElement("h2",null,"Pothole detection by uploading media!"),s.a.createElement("p",{className:"lead"},"This phase of the application is divided into three main segments."),s.a.createElement("hr",{className:"my-2"}),s.a.createElement("p",null,"Upload your media file(s), wait for them to get processed and finally see your predicted outputs and download the logs too!"),s.a.createElement("p",{className:"lead"},s.a.createElement("a",{href:"https://nirbhay.me/VAMRR-Vehicle-Detection",className:"btn btn-primary",role:"button"},"Start Detecting!"),"\xa0\xa0",s.a.createElement("a",{href:"https://autodetect.ml/home",className:"btn btn-primary",role:"button"},"Visit Home"))))},ve=function(e){return s.a.createElement(J.a,null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement(T.a,{color:"primary"},"Made with ",s.a.createElement("b",{style:{color:"#007bff"}},"\u2661")," using ",s.a.createElement("b",null,s.a.createElement("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer"},"React"))," by the team at ",s.a.createElement("b",null,s.a.createElement("a",{href:"https://icarusinnovations.co",target:"_blank",rel:"noopener noreferrer"},"Icarus Innovations Pvt. Ltd.")),".")))},ke=s.a.createElement(Ee.a,{basename:"/VAMRR-Vehicle-Detection"},s.a.createElement("div",null,s.a.createElement(fe,null),s.a.createElement(be.c,null,s.a.createElement(be.a,{exact:!0,path:"/",component:he}),s.a.createElement(be.a,{exact:!0,path:"/:id",component:he}),s.a.createElement(be.a,{exact:!0,path:"/display/:id",component:ue}),s.a.createElement(be.a,{component:_e})),s.a.createElement(ve,null)));r.a.render(ke,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[129,1,2]]]);
//# sourceMappingURL=main.cbee9eb0.chunk.js.map